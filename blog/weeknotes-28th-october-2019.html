<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content="#c82e14" />
    <link rel="manifest" href="/assets/manifest.webmanifest" />
    <link rel="shortcut icon" href="/assets/favicon.png" />
    <link rel="apple-touch-icon" href="/assets/favicon-192.png" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Greg Tyler RSS Feed"
      href="/feed.rss"
    />
    <meta
      name="description"
      content="Websites, quizzes, problem solving. I try to make stuff better."
    />

    <title>Weeknotes: 21st October 2019 - Greg Tyler</title>
    <link
      rel="canonical"
      href="https://gregtyler.co.uk/blog/weeknotes-28th-october-2019"
    />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@gregtyler" />
    <meta name="twitter:creator" content="@gregtyler" />
    <meta
      name="og:url"
      content="https://gregtyler.co.uk/blog/weeknotes-28th-october-2019"
    />
    <meta name="og:title" content="Weeknotes: 21st October 2019" />
    <meta
      name="og:description"
      content="<p>This week I sorted out our environment variables. Just a short one this week, since I&#8217;m again doing it late. My notable piece of work was completely rewriting how we handled environment variables. We now use far less variables, they&#8217;re clearer and they&#8217;re only set where they&#8217;re needed. This started off as a small task, [&hellip;]</p>
"
    />

    <link rel="stylesheet" href="/assets/style.css" />
  </head>
  <body>
    <header class="c-navbar">
      <h1 class="c-navbar__title">
        <a href="/" class="c-navbar__title-link">Greg Tyler</a>
      </h1>
      <ul class="o-linklist o-linklist--horizontal">
        <li>
          <a href="/blog" class="o-linklist__link">Blog</a>
        </li>
        <li>
          <a href="/blog/category/weeknotes" class="o-linklist__link"
            >Weeknotes</a
          >
        </li>
        <li>
          <a href="/portfolio" class="o-linklist__link">Portfolio</a>
        </li>
        <li>
          <a
            href="https://twitter.com/gregtyler"
            rel="me noreferrer"
            class="o-linklist__link"
            >Twitter</a
          >
        </li>
      </ul>
    </header>

    <main class="c-page t-flex--fill">
      <h1 class="c-page__title">Weeknotes: 21st October 2019</h1>

      <div class="c-page__meta">
        <div>Published on 26th October 2019</div>

        <ul class="o-linklist o-linklist--centered">
          <li>
            <a class="c-tag" href="/blog/category/weeknotes">Weeknotes</a>
          </li>
        </ul>
      </div>
      <div class="c-page__content">
        <p>This week I sorted out our environment variables.</p>

        <p>
          Just a short one this week, since I&#8217;m again doing it late. My
          notable piece of work was completely rewriting how we handled
          environment variables. We now use far less variables, they&#8217;re
          clearer and they&#8217;re only set where they&#8217;re needed.
        </p>

        <p>
          This started off as a small task, where I just wanted to remove a few
          variables I knew we weren&#8217;t using. But with a little pushing it
          turned into a pretty major rewrite, addressing several of the issues
          we&#8217;ve identified over the past few months.
        </p>

        <p>Amongst the changes are:</p>

        <ul>
          <li>
            removing several variables which simply aren&#8217;t being used
          </li>
          <li>
            collapsing some variables together. For example, rather than having
            an individual variable for each internal email address, we just have
            one which is a flag of whether to send internal emails or not.
          </li>
          <li>
            implementing sensible defaults. For example, Xdebug only needs to be
            enabled locally so it defaults to off. This means our servers
            don&#8217;t need to explicit confirm they don&#8217;t want it
            enabled.
          </li>
          <li>
            removing unnecessary prefixes. Lots of our variables were prefixed
            &#8220;API_&#8221; of &#8220;FRONT_&#8221; to indicate which
            container they apply to, but this is obvious from context,
            particularly now that we use Terraform.
          </li>
        </ul>

        <p>
          This effective restart on environment variables will make our
          configuration and our debugging much clearer.
        </p>

        <p>
          I hope it will also allow developers to be bolder when making future
          changes, because we won&#8217;t be prompted to worry about services
          that aren&#8217;t being used. For example, we were previously setting
          &#8220;OAUTH&#8221; environment variables which could make developers
          incorrectly assume the service used OAuth (perhaps sadly, it does
          not).
        </p>

        <h2>Summary</h2>

        <ul>
          <li>
            Released the organisations code to production (this ticket has taken
            about six weeks to get released, so this is a big milestone!)
          </li>
          <li>Tidied up the remaining organisations tickets</li>
          <li>
            Rewrote our environment variables, removing about a dozen of them in
            the process
          </li>
          <li>Redesigned the lodging checklist</li>
          <li>Started implementing the new full-review checklist</li>
        </ul>
      </div>
    </main>

    <footer class="c-footer">
      üèõüåØüå≥üéß
      <div>
        <a href="/privacy" class="c-footer__link"> Privacy </a>
        <span role="separator">-</span>
        <a
          href="https://gitlab.com/gregtyler"
          rel="me noreferrer"
          class="c-footer__link"
          >GitLab</a
        >
        <span role="separator">-</span>
        <a
          href="https://github.com/gregtyler"
          rel="me noreferrer"
          class="c-footer__link"
          >GitHub</a
        >
      </div>
    </footer>

    <script
      data-goatcounter="https://gregtyler.goatcounter.com/count"
      async
      src="//gc.zgo.at/count.js"
    ></script>
  </body>
</html>
