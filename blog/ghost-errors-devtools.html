<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content="#c82e14" />
    <link rel="manifest" href="/assets/manifest.webmanifest" />
    <link rel="shortcut icon" href="/assets/favicon.png" />
    <link rel="apple-touch-icon" href="/assets/favicon-192.png" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Greg Tyler RSS Feed"
      href="/feed.rss"
    />
    <meta
      name="description"
      content="Websites, quizzes, problem solving. I try to make stuff better."
    />

    <title>Ghost errors in Chrome DevTools - Greg Tyler</title>
    <link
      rel="canonical"
      href="https://gregtyler.co.uk/blog/ghost-errors-devtools"
    />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@gregtyler" />
    <meta name="twitter:creator" content="@gregtyler" />
    <meta
      name="og:url"
      content="https://gregtyler.co.uk/blog/ghost-errors-devtools"
    />
    <meta name="og:title" content="Ghost errors in Chrome DevTools" />
    <meta
      name="og:description"
      content="<p>I was recently presented with the following error in Chrome DevTools: &#8220;Uncaught SyntaxError: Unexpected token }&#8221;   </p>
<p>I debugged the error in Chrome, and looked at how other browsers&#8217; Developer Tools handled it too.</p>
"
    />

    <meta name="og:image" content="/images/devtools-pause-on-error.png" />

    <link rel="stylesheet" href="/assets/style.css" />
  </head>
  <body>
    <header class="c-navbar">
      <h1 class="c-navbar__title">
        <a href="/" class="c-navbar__title-link">Greg Tyler</a>
      </h1>
      <ul class="o-linklist o-linklist--horizontal">
        <li>
          <a href="/blog" class="o-linklist__link">Blog</a>
        </li>
        <li>
          <a href="/blog/category/weeknotes" class="o-linklist__link"
            >Weeknotes</a
          >
        </li>
        <li>
          <a href="/portfolio" class="o-linklist__link">Portfolio</a>
        </li>
        <li>
          <a
            href="https://twitter.com/gregtyler"
            rel="me noreferrer"
            class="o-linklist__link"
            >Twitter</a
          >
        </li>
      </ul>
    </header>

    <main class="c-page t-flex--fill">
      <h1 class="c-page__title">Ghost errors in Chrome DevTools</h1>

      <div class="c-page__meta">
        <div>Published on 19th May 2015</div>

        <ul class="o-linklist o-linklist--centered">
          <li>
            <a class="c-tag" href="/blog/category/webdev">Web development</a>
          </li>
        </ul>
      </div>
      <div class="c-page__content">
        <p>
          I was recently presented with the following error in Chrome DevTools:
        </p>
        <pre><code>Uncaught SyntaxError: Unexpected <span class="hljs-built_in">token</span> }</code></pre>
        <p>
          Along with this being a very vague error, the link in DevTools that
          typically takes you to the script with the error instead took me to
          the first line of the HTML document where, of course, there&#39;s no
          JavaScript.
        </p>
        <p>
          I did a bit of searching around and found
          <a href="http://stackoverflow.com/questions/4491533/unexpected-token"
            >this Stack Overflow post</a
          >
          which suggests that it&#39;s not a syntax error in my JavaScript
          files, but something that&#39;s being generated or handled elsewhere.
        </p>
        <p>
          To investigate further, I used the &quot;Pause on exceptions&quot;
          feature of DevTools&#39;s Sources tab, which immediately stops
          execution at the point of error, and highlights where in the stack and
          source code it currently is.
        </p>
        <img
          class="size-full wp-image-1149"
          src="/images/devtools-pause-on-error.png"
          alt=""
          width="485"
          height="513"
          srcset="
            /images/devtools-pause-on-error.png         485w,
            /images/devtools-pause-on-error-284x300.png 284w
          "
          sizes="(max-width: 485px) 100vw, 485px"
        />
        <p>
          As can be seen in the attached picture, the error was occurring during
          a call jQuery&#39;s <code>parseJSON</code> function from by own
          <code>builder.start</code>. This led me to find that
          <code>builder.start</code> was trying to parse some JSON from a data
          attribute which had been malformed (<code>{supervisor:}</code>).
          Fixing that JSON speedily removed the syntax error.
        </p>
        <p>
          So if you come across this sort of &quot;ghost&quot; error, it might
          be a problem with your JSON. More importantly, try using DevTool&#39;s
          <a
            href="https://developer.chrome.com/devtools/docs/javascript-debugging#pause-on-exceptions"
            >Pause on exceptions</a
          >
          to try and get to the bottom of it.
        </p>
        <h2 id="other-browsers">Other browsers</h2>
        <p>
          After fixing the problem, I recreated it to see how other
          browsers&#39; developer tools would handle it. Internet Explorer fairs
          slightly better than Chrome, at least narrowing down the error to the
          jQuery file. The trace link just takes you to the last line of the
          file though.
        </p>
        <img
          class="size-full wp-image-1151"
          src="/images/devtools-syntax-error-ie.png"
          alt=""
          width="419"
          height="226"
          srcset="
            /images/devtools-syntax-error-ie.png         419w,
            /images/devtools-syntax-error-ie-300x162.png 300w
          "
          sizes="(max-width: 419px) 100vw, 419px"
        />
        <p>
          Firefox is more helpful, noting directly the function in the call
          stack at the time the error occurred and the position in the JSON
          where the parsing failed. The trace link is also much more accurate
          but, because Firefox Developer Tools don&#39;t handle JavaScript files
          very well yet, clicking through to the minified file is only accurate
          to the line.
        </p>
        <img
          class="size-full wp-image-1150"
          src="/images/devtools-syntax-error-firefox.png"
          alt=""
          width="789"
          height="267"
          srcset="
            /images/devtools-syntax-error-firefox.png         789w,
            /images/devtools-syntax-error-firefox-300x102.png 300w,
            /images/devtools-syntax-error-firefox-768x260.png 768w,
            /images/devtools-syntax-error-firefox-625x212.png 625w
          "
          sizes="(max-width: 789px) 100vw, 789px"
        />
      </div>
    </main>

    <footer class="c-footer">
      üèõüåØüå≥üéß
      <div>
        <a href="/privacy" class="c-footer__link"> Privacy </a>
        <span role="separator">-</span>
        <a
          href="https://gitlab.com/gregtyler"
          rel="me noreferrer"
          class="c-footer__link"
          >GitLab</a
        >
        <span role="separator">-</span>
        <a
          href="https://github.com/gregtyler"
          rel="me noreferrer"
          class="c-footer__link"
          >GitHub</a
        >
      </div>
    </footer>

    <script
      data-goatcounter="https://gregtyler.goatcounter.com/count"
      async
      src="//gc.zgo.at/count.js"
    ></script>
  </body>
</html>
